(function t(e,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r(require("react"));else if(typeof define==="function"&&define.amd)define("ReactImperator",["react"],r);else if(typeof exports==="object")exports["ReactImperator"]=r(require("react"));else e["ReactImperator"]=r(e["React"])})(window,function(t){return function(t){var e={};function r(n){if(e[n]){return e[n].exports}var o=e[n]={i:n,l:false,exports:{}};t[n].call(o.exports,o,o.exports,r);o.l=true;return o.exports}r.m=t;r.c=e;r.d=function(t,e,n){if(!r.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:n})}};r.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};r.t=function(t,e){if(e&1)t=r(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n};r.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};r.d(e,"a",e);return e};r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};r.p="";return r(r.s=1)}([function(e,r){e.exports=t},function(t,e,r){"use strict";r.r(e);var n=r(0);var o=function(){return Math.random().toString(36).substring(7)};var u=function(t){var e=t.reduce(function(t,e){t[e]=true;return t},{});return Object.keys(e)};var i=function(t,e){var r=e.reduce(function(t,e){t[e]=true;return t},{});return t.filter(function(t){return!r[t]})};r.d(e,"connect",function(){return s});r.d(e,"update",function(){return p});r.d(e,"subscribe",function(){return l});r.d(e,"unsubscribe",function(){return d});r.d(e,"get",function(){return v});r.d(e,"persist",function(){return b});r.d(e,"restore",function(){return y});var c=undefined&&undefined.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r]};return t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var f=undefined&&undefined.__assign||function(){f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o))t[o]=e[o]}return t};return f.apply(this,arguments)};var a=function(){var t={};var e={};var r=function(e,r,n){if(!t[e]){t[e]={}}t[e][r]=n};var a=function(e){Object.keys(t).forEach(function(r){return delete t[r][e]})};var s=function(e,r){if(!t[e]){return}Object.keys(t[e]).forEach(function(n){var o=t[e][n];if(!o){return}o(r)})};return{persist:function(t){if(!t){localStorage.setItem("__persisted_state",JSON.stringify(e));return}if(!e.hasOwnProperty(t)){return}localStorage.setItem(t,JSON.stringify(e[t]))},restore:function(t){if(!!t){var e=JSON.parse(localStorage.getItem("context"));s(t,e);return}var r=JSON.parse(localStorage.getItem("__persisted_state"));if(!r){return}Object.keys(r).forEach(function(t){s(t,r[t])})},subscribe:function(t,e){var n=o();r(t,n,e);return n},unsubscribe:function(t){a(t)},get:function(t){return e[t]},update:function(t,r){var n=r(e[t]);e[t]=n;s(t,n)},connect:function(t,s,p){var l=function(t,e){var r=Object.keys(t);var n=s||[];i(u(r.concat(n)),p||[]).forEach(e)};return function(u){c(i,u);function i(t){var n=u.call(this,t)||this;if(!t){t={}}n.name=o();var i={};Object.keys(t).forEach(function(e){return i[e]=t[e]});l(t,function(o){r(o,n.name,function(t){var e;if(!o){return}var r=(e={},e[o]=t,e);n.setState(function(t){return f({},t,r)})});if(e.hasOwnProperty(o)){i[o]=e[o]}if(t[o]&&!e.hasOwnProperty(o)){var u=t[o];e[o]=u}});n.state=i;return n}i.prototype.render=function(){return n["createElement"](t,f({},this.state))};i.prototype.componentWillReceiveProps=function(t){this.setState(t)};i.prototype.componentWillUnmount=function(){a(this.name)};return i}(n["Component"])}}}();var s=a.connect,p=a.update,l=a.subscribe,d=a.unsubscribe,v=a.get,b=a.persist,y=a.restore}])});